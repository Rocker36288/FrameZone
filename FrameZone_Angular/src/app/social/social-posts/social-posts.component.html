@if(post){
<div class="card mb-3" id="">
  <div class="card-body">
    <!-- åŠŸèƒ½é¸å–®ï¼ˆå³ä¸Šè§’ï¼‰ -->
    <div class="position-absolute top-0 end-0 m-2">
      <div class="dropdown">
        <button class="btn btn-sm btn-light" type="button" (click)="toggleMenu(); $event.stopPropagation()">
          ...
        </button>
        <ul class="dropdown-menu dropdown-menu-end" [class.show]="isMenuOpen">
          <li>
            <button class="dropdown-item" type="button" (click)="startEdit();toggleMenu()">
              ç·¨è¼¯
            </button>
          </li>
          <li>
            <button class="dropdown-item text-danger" type="button" (click)="deletePost();toggleMenu()">
              åˆªé™¤
            </button>
          </li>
        </ul>
      </div>
    </div>

    <!-- é ­è²¼ + UserId + æ™‚é–“ -->
    <div class="d-flex align-items-center mb-2">
      <img src="images/social/AmongUs.png" class="rounded-circle me-2" style="width:50px; height:50px" />

      <div>
        <strong>UserId:{{post.userId}}</strong><br />
        <span class="text-muted" style="font-size: 0.85rem;">
          æ›´æ–°æ™‚é–“:{{post.updatedAt | date:'yyyy-MM-dd HH:mm'}}
        </span>
      </div>
    </div>
    <!-- é¡¯ç¤ºè²¼æ–‡æ–‡å­—å…§å®¹ -->
    @if(!isEditing){
    <h2>
      @if(post.postContent.length<=10){ {{post.postContent}} } @else{ {{ isFullContent ? post.postContent :
        (post.postContent | slice:0:10) + '...' }}<button class="btn btn-link btn-sm p-0 ms-1"
        (click)="toggleContent()">
        {{ isFullContent ? 'æ”¶èµ·' : 'é¡¯ç¤ºå…¨éƒ¨' }}
        </button>
        }
    </h2>
    }

    <!-- ç·¨è¼¯å€ -->
    @if(isEditing){
    <div>
      <textarea class="form-control" [(ngModel)]="editContent"></textarea>
      <button class="btn btn-success btn-sm mt-2" (click)="saveEdit()">ä¿å­˜</button>
      <button class="btn btn-secondary btn-sm mt-2" (click)="cancelEdit()">å–æ¶ˆ</button>
    </div>
    }
    <br>
    <div>
      ğŸ‘ æŒ‰è®šæ•¸
      ğŸ’¬ ç•™è¨€æ•¸
    </div>
    <hr class="my-2">

    <div class="row text-center">
      <div class="col-4">
        <button class="btn btn-ghost-dark w-100 py-2 d-flex align-items-center justify-content-center">
          <i class="bi bi-hand-thumbs-up me-2"></i>è®š
        </button>
      </div>
      <div class="col-4">
        <button class="btn btn-ghost-dark w-100 py-2 d-flex align-items-center justify-content-center">
          <i class="bi bi-chat-square me-2"></i>ç•™è¨€
        </button>
      </div>
      <div class="col-4">
        <button class="btn btn-ghost-dark w-100 py-2 d-flex align-items-center justify-content-center">
          <i class="bi bi-share me-2"></i>åˆ†äº«
        </button>
      </div>
    </div>

    <hr class="my-2">

    <!-- é¡¯ç¤ºç•™è¨€å€ -->
    <div class="comment-section">
      <app-social-comments [comments]="post.comments"></app-social-comments>
    </div>

    <!-- ç™¼å¸ƒç•™è¨€å€ -->
    <div class="mt-3">
      <div class="d-flex align-items-center">
        <img src="images/social/AmongUs.png" class="rounded-circle me-2"
          style="width:35px; height:35px; object-fit: cover;" />

        <div class="position-relative flex-grow-1">
          <input type="text"
            class="form-control form-control-sm rounded-pill bg-light border-0 pe-5 comment-input-custom"
            placeholder="ç™¼ä½ˆç•™è¨€...">

          <button class="btn position-absolute end-0 top-50 translate-middle-y p-0 me-3 btn-send-comment" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-send-2">
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path
                d="M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z" />
              <path d="M6.5 12h14.5" />
            </svg>
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
}