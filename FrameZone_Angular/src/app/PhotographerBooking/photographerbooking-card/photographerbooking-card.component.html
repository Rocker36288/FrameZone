<article class="card" (click)="onViewDetails()">
  <div class="image-container">
    <img [src]="cardImage" [alt]="photographer.displayName" />

    <!-- 統一的可用性標籤 -->
    <div class="availability-tag">
      <ng-container *ngIf="photographer.isAvailableSoon; else totalSlots">
        <span class="status-dot"></span>
        <span class="date-text">{{ photographer.earliestAvailableDate | date:'MM/dd' }} 有空</span>
      </ng-container>

      <ng-template #totalSlots>
        <ng-container *ngIf="photographer.slotCount && photographer.slotCount > 0">
          <i class="ti ti-calendar-event"></i>
          <span>{{ photographer.slotCount }} 個時段</span>
        </ng-container>
      </ng-template>
    </div>
  </div>

  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center">
      <div class="fw-bold h4 mb-0">{{ photographer.displayName }}</div>
      <div class="text-warning fw-bold" *ngIf="photographer.rating" style="white-space: nowrap;">
        ★ {{ photographer.rating }}
      </div>
    </div>
    <div class="text-muted small mb-3">
      {{ photographer.studioAddress }}
      <span *ngIf="photographer.reviewCount">· {{ photographer.reviewCount }} 則評價</span>
      <span *ngIf="photographer.studioName">({{ photographer.studioName }})</span>
    </div>
    <div class="card-tags">
      <span class="tag-small badge-service">
        <i class="ti ti-camera"></i> {{ photographer.studioType }}
      </span>
      <span *ngFor="let tag of photographer.specialties.slice(0, 2)" class="tag-small">
        {{ tag }}
      </span>
    </div>
    <div class="d-flex justify-content-between align-items-center mt-3 border-top pt-3">
      <div class="price-text">{{ formattedPrice }}</div>
      <button class="btn-detail" (click)="onViewDetails(); $event.stopPropagation()">
        查看詳情 <i class="ti ti-chevron-right"></i>
      </button>
    </div>
  </div>
</article>