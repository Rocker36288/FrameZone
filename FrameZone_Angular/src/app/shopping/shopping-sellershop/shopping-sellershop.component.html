<div class="page-wrapper">
  <div class="page-body">
    <div class="container-xl">
      <!-- Ë≥£Â†¥Ê®ôÈ°åÂçÄ -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card seller-header">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-auto">
                  <span class="avatar avatar-xl avatar-rounded"
                    [style.background-image]="'url(' + sellerInfo.avatar + ')'">
                  </span>
                </div>
                <div class="col">
                  <h2 class="mb-1">{{ sellerInfo.name }}</h2>
                  <div class="d-flex align-items-center gap-3 flex-wrap">
                    <div>
                      <span class="badge bg-white text-primary fw-bold">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                          fill="currentColor" class="me-1">
                          <circle cx="12" cy="12" r="10" />
                        </svg>
                        ‰∏äÁ∑ö‰∏≠
                      </span>
                    </div>
                    <div class="text-white-80 clickable-info" (click)="goToReviews()">
                      Ë©ïÂÉπÔºö{{ sellerInfo.rating }} ({{ sellerInfo.reviewCount }}Ââá)
                    </div>
                    <div class="text-white-80 clickable-info" (click)="scrollToProducts()">
                      ÂïÜÂìÅÊï∏Ôºö{{ sellerInfo.productCount }}
                    </div>
                  </div>
                </div>
                <div class="col-auto">
                  <button class="btn btn-chat" (click)="openSharedChat()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                      class="icon me-2">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path
                        d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z" />
                      <path d="M9.5 9h.01" />
                      <path d="M14.5 9h.01" />
                      <path d="M9.5 13a3.5 3.5 0 0 0 5 0" />
                    </svg>
                    ËÅäËÅä
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ë≥£Â†¥‰ªãÁ¥π -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card intro-card">
            <div class="card-header">
              <h3 class="card-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="icon me-2 icon-tabler icons-tabler-outline icon-tabler-info-circle">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
                  <path d="M12 9h.01" />
                  <path d="M11 12h1v4h1" />
                </svg>
                Ë≥£Â†¥‰ªãÁ¥π
              </h3>
            </div>
            <div class="card-body">
              <div class="row g-4">
                <div class="col-12">
                  <div class="d-flex align-items-start">
                    <div class="text-primary me-3 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                      </svg>
                    </div>
                    <div>
                      <p class="text-secondary mb-2">{{ sellerInfo.description }}</p>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="d-flex align-items-start">
                    <div class="text-success me-3 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <polyline points="20 6 9 17 4 12"></polyline>
                      </svg>
                    </div>
                    <div>
                      <h5 class="mb-1">ÂìÅË≥™‰øùË≠â</h5>
                      <p class="text-secondary small mb-0">ÊØè‰ª∂ÂïÜÂìÅÈÉΩÊòØÊàëË¶™Ëá™ÊåëÈÅ∏<br>‰∏çÂ•ΩÁöÑÊù±Ë•øÁµïÂ∞ç‰∏ç‰∏äÊû∂ÔºÅ</p>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="d-flex align-items-start">
                    <div class="text-info me-3 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                      </svg>
                    </div>
                    <div>
                      <h5 class="mb-1">Áî®ÂøÉÂåÖË£ù</h5>
                      <p class="text-secondary small mb-0">ÊØè‰ªΩÂåÖË£πÈÉΩÁî®ÂøÉÊ∫ñÂÇô<br>Â∞±ÂÉèÈÄÅÁµ¶ÊúãÂèãÁöÑÁ¶ÆÁâ©‰∏ÄÊ®£</p>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="d-flex align-items-start">
                    <div class="text-warning me-3 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                      </svg>
                    </div>
                    <div>
                      <h5 class="mb-1">Èö®ÊôÇÁ∑ö‰∏ä</h5>
                      <p class="text-secondary small mb-0">ÊúâÂïèÈ°åÈö®ÊôÇÁßÅË®äÊàë<br>ÊàëÊúÉÁõ°Âø´ÂõûË¶Ü‰Ω†ÁöÑ üòä</p>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="d-flex align-items-start">
                    <div class="text-pink me-3 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <path
                          d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                        </path>
                      </svg>
                    </div>
                    <div>
                      <h5 class="mb-1">ÁúüÂøÉÊÑüË¨ù</h5>
                      <p class="text-secondary small mb-0">ÊÑüË¨ùÊØè‰ΩçÊîØÊåÅÊàëÁöÑÊúãÂèã<br>‰Ω†ÂÄëÁöÑÈºìÂãµÊòØÊàëÊúÄÂ§ßÁöÑÂãïÂäõ ‚ù§Ô∏è</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ë≥£Â†¥ÂúñÁâá -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card shop-image-card">
            <div class="card-header">
              <h3 class="card-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="icon me-2">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <polyline points="21 15 16 10 5 21"></polyline>
                </svg>
                Ë≥£Â†¥ÂúñÁâá
              </h3>
            </div>
            <img [src]="sellerInfo.shopImage" class="shop-main-image" alt="Ë≥£Â†¥‰ª£Ë°®ÂúñÁâá">
          </div>
        </div>
      </div>

      <!-- ÂïÜÂìÅÂçÄ -->
      <div class="row">
        <!-- Â∑¶ÂÅ¥ÂàÜÈ°ûÊ¨Ñ -->
        <div class="col-lg-2 col-md-3 mb-4">
          <div class="card category-card">
            <!-- ÂàÜÈ°ûÊ®ôÈ°åË£ùÈ£æ -->
            <div class="category-title-bar"></div>
            <div class="list-group list-group-flush">
              <a *ngFor="let category of categories" href="javascript:void(0)"
                class="list-group-item list-group-item-action" [class.active]="selectedCategoryId === category.id"
                (click)="selectCategory(category.id)">
                {{ category.name }}
              </a>
            </div>
          </div>
        </div>

        <!-- Âè≥ÂÅ¥ÂïÜÂìÅÂçÄ -->
        <div class="col-lg-10 col-md-9" id="all-products">
          <!-- ÊéíÂ∫èËàáÊêúÂ∞ã -->
          <div class="card mb-3">
            <div class="card-body py-2">
              <div class="row g-3 align-items-center">
                <!-- Â∑¶ÂÅ¥ÔºöÊéíÂ∫èÊåâÈàï -->
                <div class="col-md-4">
                  <div class="d-flex align-items-center gap-2">
                    <span class="text-muted small">ÊéíÂ∫èÔºö</span>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-sm d-flex align-items-center gap-1"
                        [ngClass]="sortBy === 'price' ? 'btn-primary' : 'btn-outline-primary'"
                        (click)="onSort('price')">
                        ÂÉπÊ†º
                        <span *ngIf="sortBy === 'price'">
                          <svg *ngIf="sortOrder === 'desc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v.5m0 3v1.5m0 3v6" />
                            <path d="M16 15l-4 4" />
                            <path d="M8 15l4 4" />
                          </svg>
                          <svg *ngIf="sortOrder === 'asc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v6m0 3v1.5m0 3v.5" />
                            <path d="M16 9l-4 -4" />
                            <path d="M8 9l4 -4" />
                          </svg>
                        </span>
                      </button>
                      <button type="button" class="btn btn-sm d-flex align-items-center gap-1"
                        [ngClass]="sortBy === 'latest' ? 'btn-primary' : 'btn-outline-primary'"
                        (click)="onSort('latest')">
                        ÊúÄÊñ∞
                        <span *ngIf="sortBy === 'latest'">
                          <svg *ngIf="sortOrder === 'desc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v.5m0 3v1.5m0 3v6" />
                            <path d="M16 15l-4 4" />
                            <path d="M8 15l4 4" />
                          </svg>
                          <svg *ngIf="sortOrder === 'asc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v6m0 3v1.5m0 3v.5" />
                            <path d="M16 9l-4 -4" />
                            <path d="M8 9l4 -4" />
                          </svg>
                        </span>
                      </button>
                      <button type="button" class="btn btn-sm d-flex align-items-center gap-1"
                        [ngClass]="sortBy === 'sales' ? 'btn-primary' : 'btn-outline-primary'"
                        (click)="onSort('sales')">
                        ÁÜ±Èä∑
                        <span *ngIf="sortBy === 'sales'">
                          <svg *ngIf="sortOrder === 'desc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v.5m0 3v1.5m0 3v6" />
                            <path d="M16 15l-4 4" />
                            <path d="M8 15l4 4" />
                          </svg>
                          <svg *ngIf="sortOrder === 'asc'" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="icon">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M12 5v6m0 3v1.5m0 3v.5" />
                            <path d="M16 9l-4 -4" />
                            <path d="M8 9l4 -4" />
                          </svg>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Âè≥ÂÅ¥ÔºöÂÉπÊ†ºÂçÄÈñìËàáÈóúÈçµÂ≠óÊêúÂ∞ã -->
                <div class="col-md-8">
                  <div class="row g-2 align-items-center">
                    <!-- ÂÉπÊ†ºÂçÄÈñì -->
                    <div class="col-sm-5">
                      <div class="input-group input-group-sm">
                        <input type="number" class="form-control" placeholder="ÊúÄ‰ΩéÂÉπÊ†º" [(ngModel)]="minPrice"
                          (change)="onPriceFilter()">
                        <span class="input-group-text">-</span>
                        <input type="number" class="form-control" placeholder="ÊúÄÈ´òÂÉπÊ†º" [(ngModel)]="maxPrice"
                          (change)="onPriceFilter()">
                      </div>
                    </div>

                    <!-- ÈóúÈçµÂ≠óÊêúÂ∞ã -->
                    <div class="col-sm-7">
                      <div class="input-group input-group-sm">
                        <input type="text" class="form-control" placeholder="ÊêúÂ∞ãÂïÜÂìÅÈóúÈçµÂ≠ó..." [(ngModel)]="searchKeyword"
                          (keyup.enter)="onSearch()">
                        <button class="btn btn-primary d-flex align-items-center justify-content-center" type="button"
                          (click)="onSearch()">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="icon icon-tabler icons-tabler-outline icon-tabler-search">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                            <path d="M21 21l-6 -6" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ÂïÜÂìÅÂàóË°® -->
          <div class="row row-cards" *ngIf="displayProducts.length > 0">
            <div class="col-xl-2-4 col-lg-3 col-md-4 col-sm-6 mb-3" *ngFor="let product of displayProducts">
              <app-product-card [product]="product" (favoriteChange)="product.isFavorite = $event">
              </app-product-card>

              <!-- <div class="card d-flex flex-column h-100 product-card"
                [routerLink]="['/shopping/product-detail', product.id]">
                <img class="card-img-top" [src]="product.image" [alt]="product.name" />
                <div class="card-body d-flex flex-column">
                  <h4 class="card-title">
                    {{ product.name }}
                  </h4>
                  <div class="text-secondary small mb-3">
                    {{ product.description }}
                  </div>
                  <div class="mt-auto d-flex align-items-center justify-content-between">
                    <div class="h3 text-primary mb-0">
                      NT$ {{ product.price }}
                    </div> -->
              <!-- <a href="javascript:void(0)" class="favorite-icon" [class.favorited]="isFavorite(product.id)"
                      (click)="toggleFavorite(product, $event)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        [attr.fill]="isFavorite(product.id) ? '#dc3545' : 'none'" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" class="icon">
                        <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
                      </svg>
                    </a> -->
              <!-- <app-favorite-button [isFavorite]="product.isFavorite" [itemName]="product.name"
                (favoriteChange)="product.isFavorite = $event">
              </app-favorite-button> -->

            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ÁÑ°ÂïÜÂìÅÊèêÁ§∫ -->
    <div class="card" *ngIf="displayProducts.length === 0">
      <div class="card-body">
        <div class="empty">
          <div class="empty-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
              <circle cx="12" cy="12" r="10"></circle>
              <path d="M16 16s-1.5-2-4-2-4 2-4 2"></path>
              <line x1="9" y1="9" x2="9.01" y2="9"></line>
              <line x1="15" y1="9" x2="15.01" y2="9"></line>
            </svg>
          </div>
          <p class="empty-title">Ê≠§ÂàÜÈ°ûÁõÆÂâçÊ≤íÊúâÂïÜÂìÅ</p>
          <p class="empty-subtitle text-secondary">
            Ë´ãÈÅ∏ÊìáÂÖ∂‰ªñÂàÜÈ°ûÊü•Áúã
          </p>
        </div>
      </div>
    </div>

    <!-- ÂàÜÈ†Å -->
    <div class="card mt-3" *ngIf="totalPages > 1">
      <div class="card-body py-3">
        <ul class="pagination justify-content-center mb-0 flex-wrap">
          <!-- Á¨¨‰∏ÄÈ†Å -->
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a class="page-link" href="javascript:void(0)" (click)="currentPage > 1 && goToPage(1)">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M11 7l-5 5l5 5" />
                <path d="M17 7l-5 5l5 5" />
              </svg>
            </a>
          </li>

          <!-- ‰∏ä‰∏ÄÈ†Å -->
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a class="page-link" href="javascript:void(0)" (click)="currentPage > 1 && goToPage(currentPage - 1)">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M15 6l-6 6l6 6" />
              </svg>
            </a>
          </li>

          <!-- Á¨¨‰∏ÄÈ†ÅÈ†ÅÁ¢º -->
          <li class="page-item" [class.active]="currentPage === 1">
            <a class="page-link" href="javascript:void(0)" (click)="goToPage(1)">1</a>
          </li>

          <!-- ÁúÅÁï•ËôüÔºàÂâçÔºâ -->
          <li class="page-item disabled" *ngIf="showFirstPageDots()">
            <span class="page-link">...</span>
          </li>

          <!-- ‰∏≠ÈñìÈ†ÅÁ¢º -->
          <li class="page-item" *ngFor="let page of visiblePages" [class.active]="currentPage === page">
            <a class="page-link" href="javascript:void(0)" (click)="goToPage(page)"
              *ngIf="page !== 1 && page !== totalPages">
              {{ page }}
            </a>
          </li>

          <!-- ÁúÅÁï•ËôüÔºàÂæåÔºâ -->
          <li class="page-item disabled" *ngIf="showLastPageDots()">
            <span class="page-link">...</span>
          </li>

          <!-- ÊúÄÂæå‰∏ÄÈ†ÅÈ†ÅÁ¢º -->
          <li class="page-item" [class.active]="currentPage === totalPages" *ngIf="totalPages > 1">
            <a class="page-link" href="javascript:void(0)" (click)="goToPage(totalPages)">
              {{ totalPages }}
            </a>
          </li>

          <!-- ‰∏ã‰∏ÄÈ†Å -->
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a class="page-link" href="javascript:void(0)"
              (click)="currentPage < totalPages && goToPage(currentPage + 1)">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M9 6l6 6l-6 6" />
              </svg>
            </a>
          </li>

          <!-- ÊúÄÂæå‰∏ÄÈ†Å -->
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a class="page-link" href="javascript:void(0)" (click)="currentPage < totalPages && goToPage(totalPages)">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M7 7l5 5l-5 5" />
                <path d="M13 7l5 5l-5 5" />
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Toast ÊèêÁ§∫Ë®äÊÅØ -->
<!-- <div class="toast-container" *ngIf="showToast">
    <div class="toast show">
      <div class="toast-body">
        {{ toastMessage }}
      </div>
    </div>
  </div> -->

<div>
  <app-toast-notification></app-toast-notification>
</div>

<div>
  <app-footer></app-footer>
</div>