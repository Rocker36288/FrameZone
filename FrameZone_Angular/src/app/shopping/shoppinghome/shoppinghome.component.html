<!-- 輪播圖 -->
<div id="carousel-sample" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button *ngFor="let image of carouselImages; let i = index" type="button" data-bs-target="#carousel-sample"
      [attr.data-bs-slide-to]="i" [class.active]="i === 0" [attr.aria-current]="i === 0 ? 'true' : null"
      [attr.aria-label]="'Slide ' + (i + 1)">
    </button>
  </div>

  <div class="carousel-inner">
    <div *ngFor="let image of carouselImages; let i = index" class="carousel-item" [class.active]="i === 0">
      <img class="d-block w-100" [src]="image.src" [alt]="image.alt" />
    </div>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#carousel-sample" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carousel-sample" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- 分類區 -->
<div class="row">
  <div class="cagetoryname">
    <h2 class="text-center">分類</h2>
  </div>
  <div class="d-flex flex-wrap justify-content-center align-items-stretch">
    <div *ngFor="let category of categories" class="category-item" (click)="onCategoryClick(category)">
      <div class="card d-flex flex-column mt-3 pt-2">
        <div class="img-responsive img-responsive-21x15 card-img-top"
          [style.background-image]="'url(' + category.image + ')'">
        </div>
        <div class="card-body">
          <h3 class="card-title text-center">{{ category.name }}</h3>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 熱門推薦 -->
<div class="row">
  <div class="popularname">
    <h2 class="text-center">熱門推薦</h2>
  </div>

  <div class="col-lg-2 col-md-3 col-6" *ngFor="let product of popularProducts">
    <div class="card d-flex flex-column mt-6">
      <a [routerLink]="['/product', product.id]">
        <img class="card-img-top" [src]="product.image" [alt]="product.name" />
      </a>
      <div class="card-body d-flex flex-column">
        <h3 class="card-title">
          <a [routerLink]="['/product', product.id]">{{ product.name }}</a>
        </h3>
        <div class="text-secondary">
          {{ product.condition }}
        </div>
        <div class="d-flex align-items-center pt-4 mt-auto">
          <span class="avatar" [style.background-image]="'url(' + product.avatar + ')'"></span>
          <div class="ms-3">
            <a (click)="$event.preventDefault()" class="text-body" style="cursor: pointer;">{{ product.seller }}</a>
          </div>
          <div class="ms-auto">
            <a (click)="onFavoriteClick($event, product)" class="icon d-none d-md-inline-block ms-3 text-secondary"
              style="cursor: pointer;">
              <!-- Tabler icon from http://tabler.io/icons/icon/heart -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-shopping-cart">
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                <path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                <path d="M17 17h-11v-14h-2" />
                <path d="M6 5l14 1l-1 7h-13" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 近期瀏覽 -->
<div class="row">
  <div class="recently-viewed">
    <h2 class="text-center">近期瀏覽</h2>
  </div>

  <div class="col-lg-2 col-md-3 col-6" *ngFor="let product of recentlyViewed">
    <div class="card d-flex flex-column mt-6">
      <a [routerLink]="['/product', product.id]">
        <img class="card-img-top" [src]="product.image" [alt]="product.name" />
      </a>
      <div class="card-body d-flex flex-column">
        <h3 class="card-title">
          <a [routerLink]="['/product', product.id]">{{ product.name }}</a>
        </h3>
        <div class="text-secondary">
          {{ product.condition }}
        </div>
        <div class="d-flex align-items-center pt-4 mt-auto">
          <span class="avatar" [style.background-image]="'url(' + product.avatar + ')'"></span>
          <div class="ms-3">
            <a (click)="$event.preventDefault()" class="text-body" style="cursor: pointer;">{{ product.seller }}</a>
          </div>
          <div class="ms-auto">
            <a (click)="onFavoriteClick($event, product)" class="icon d-none d-md-inline-block ms-3 text-secondary"
              style="cursor: pointer;">
              <!-- Tabler icon from http://tabler.io/icons/icon/heart -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="icon icon-1">
                <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <app-shopping-header></app-shopping-header>
</div>