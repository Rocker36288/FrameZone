<div class="settings-container">
  <div class="settings-header">
    <div>
      <h1 class="settings-title">金流設定</h1>
    </div>
  </div>

  <!-- 信用卡 -->
  <div class="payment-section">
    <div class="section-header">
      <h2 class="section-title">信用卡付款</h2>
    </div>
    <div *ngFor="let method of getMethodsByType('credit_card')" class="payment-item">
      <div class="payment-content">
        <div class="payment-icon credit-card">
          <i class="ti ti-credit-card"></i>
        </div>
        <div class="payment-info">
          <div class="payment-name">{{ method.name }}</div>
          <div class="payment-description">{{ method.description }}</div>
          <div class="payment-meta">
            <span class="meta-tag">{{ method.provider }}</span>
            <span class="meta-text">
              <i class="ti ti-bolt"></i>
              {{ method.processingTime }}
            </span>
            <span class="meta-text">
              <i class="ti ti-coin"></i>
              手續費: {{ method.feeType === 'percentage' ? method.transactionFee + '%' : 'NT$' + method.transactionFee }}
            </span>
          </div>
        </div>
      </div>
      <div class="payment-actions">
        <label class="toggle-switch">
          <input type="checkbox" [checked]="method.isEnabled" (change)="toggleMethod(method)">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </div>

  <!-- ATM 轉帳 -->
  <div class="payment-section">
    <div class="section-header">
      <h2 class="section-title">ATM 轉帳</h2>
    </div>
    <div *ngFor="let method of getMethodsByType('atm')" class="payment-item">
      <div class="payment-content">
        <div class="payment-icon atm">
          <i class="ti ti-building-bank"></i>
        </div>
        <div class="payment-info">
          <div class="payment-name">{{ method.name }}</div>
          <div class="payment-description">{{ method.description }}</div>
          <div class="payment-meta">
            <span class="meta-tag">{{ method.provider }}</span>
            <span class="meta-text">
              <i class="ti ti-clock"></i>
              {{ method.processingTime }}
            </span>
            <span class="meta-text">
              <i class="ti ti-coin"></i>
              手續費: {{ method.feeType === 'percentage' ? method.transactionFee + '%' : 'NT$' + method.transactionFee }}
            </span>
          </div>
        </div>
      </div>
      <div class="payment-actions">
        <label class="toggle-switch">
          <input type="checkbox" [checked]="method.isEnabled" (change)="toggleMethod(method)">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </div>

  <!-- 電子錢包 -->
  <div class="payment-section">
    <div class="section-header">
      <h2 class="section-title">電子錢包</h2>
    </div>
    <div *ngFor="let method of getMethodsByType('ewallet')" class="payment-item">
      <div class="payment-content">
        <div class="payment-icon ewallet">
          <i class="ti ti-wallet"></i>
        </div>
        <div class="payment-info">
          <div class="payment-name">{{ method.name }}</div>
          <div class="payment-description">{{ method.description }}</div>
          <div class="payment-meta">
            <span class="meta-tag">{{ method.provider }}</span>
            <span class="meta-text">
              <i class="ti ti-bolt"></i>
              {{ method.processingTime }}
            </span>
            <span class="meta-text">
              <i class="ti ti-coin"></i>
              手續費: {{ method.feeType === 'percentage' ? method.transactionFee + '%' : 'NT$' + method.transactionFee }}
            </span>
          </div>
        </div>
      </div>
      <div class="payment-actions">
        <label class="toggle-switch">
          <input type="checkbox" [checked]="method.isEnabled" (change)="toggleMethod(method)">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </div>

  <!-- 貨到付款 -->
  <div class="payment-section">
    <div class="section-header">
      <h2 class="section-title">貨到付款</h2>
    </div>
    <div *ngFor="let method of getMethodsByType('cod')" class="payment-item">
      <div class="payment-content">
        <div class="payment-icon cod">
          <i class="ti ti-truck-delivery"></i>
        </div>
        <div class="payment-info">
          <div class="payment-name">{{ method.name }}</div>
          <div class="payment-description">{{ method.description }}</div>
          <div class="payment-meta">
            <span class="meta-tag">{{ method.provider }}</span>
            <span class="meta-text">
              <i class="ti ti-map-pin"></i>
              {{ method.processingTime }}
            </span>
            <span class="meta-text">
              <i class="ti ti-coin"></i>
              手續費: {{ method.feeType === 'percentage' ? method.transactionFee + '%' : 'NT$' + method.transactionFee }}
            </span>
          </div>
        </div>
      </div>
      <div class="payment-actions">
        <label class="toggle-switch">
          <input type="checkbox" [checked]="method.isEnabled" (change)="toggleMethod(method)">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </div>
</div>