<div class="container">
  <!-- Page Header -->
  <div class="page-header d-print-none mb-3">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="page-title d-flex align-items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-movie me-2" width="24" height="24"
            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
            stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
            <path d="M8 4l0 16" />
            <path d="M16 4l0 16" />
            <path d="M4 8l16 0" />
            <path d="M4 16l16 0" />
          </svg>
          影片管理
        </h2>
      </div>

    </div>
  </div>

  <!-- Info Alert -->
  <div class="alert alert-info">
    <div class="d-flex align-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle me-2" width="24"
        height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
        stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
        <path d="M12 9h.01" />
        <path d="M11 12h1v4h1" />
      </svg>
      <div>
        在此管理您上傳的影片，可調整公開狀態、編輯資訊或刪除影片。
      </div>
    </div>
  </div>

  <!-- Page Settings -->
  <div class="card mb-3">
    <div class="card-body">
      <div class="row g-3 align-items-center">
        <!-- 狀態篩選 -->
        <!-- <div class="col-md-3">
          <label class="form-label">影片狀態</label>
          <select class="form-select" [(ngModel)]="selectedStatus" (change)="onFilterChange()">
            <option value="">全部</option>
            <option value="public">公開</option>
            <option value="private">私人</option>
            <option value="draft">草稿</option>
          </select>
        </div> -->

        <!-- 排序 -->
        <!-- <div class="col-md-3">
          <label class="form-label">排序方式</label>
          <select class="form-select" [(ngModel)]="selectedSort" (change)="onFilterChange()">
            <option value="newest">最新上傳</option>
            <option value="oldest">最舊優先</option>
            <option value="views">觀看次數</option>
          </select>
        </div> -->

        <!-- 每頁顯示 -->
        <!-- <div class="col-md-2">
          <label class="form-label">每頁顯示</label>
          <select class="form-select" [value]="itemsPerPage" (change)="onPageSizeChange($event)">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>
        </div>
      </div> -->
      </div>
    </div>

    <!-- Video List -->
    <app-videos-list [variant]="'creator-list'" [VideoDetailData]="VideoDetailsData!">
    </app-videos-list>


    <!-- Pagination -->
    <div class="card mt-3" *ngIf="VideoDetailsData && VideoDetailsData.length > 0">
      <div class="card-body py-2">
        <div class="d-flex align-items-center justify-content-between">
          <!-- 顯示資訊 -->
          <div class="text-muted">
            顯示第 <span class="fw-bold">{{ getStartIndex() }}</span> –
            <span class="fw-bold">{{ getEndIndex() }}</span> 筆，
            共 <span class="fw-bold">{{ totalItems }}</span> 筆影片
          </div>

          <!-- Page buttons -->
          <ul class="pagination mb-0">
            <!-- Previous -->
            <li class="page-item" [class.disabled]="currentPage === 1">
              <a class="page-link" (click)="loadVideos(currentPage - 1)" href="javascript:void(0)">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="16" height="16" viewBox="0 0 24 24"
                  stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M15 6l-6 6l6 6" />
                </svg>
                上一頁
              </a>
            </li>

            <!-- Page numbers -->
            <li class="page-item" *ngFor="let p of pages" [class.active]="currentPage === p">
              <a class="page-link" (click)="loadVideos(p)" href="javascript:void(0)">{{ p }}</a>
            </li>

            <!-- Next -->
            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <a class="page-link" (click)="loadVideos(currentPage + 1)" href="javascript:void(0)">
                下一頁
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="16" height="16" viewBox="0 0 24 24"
                  stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M9 6l6 6l-6 6" />
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

  </div>